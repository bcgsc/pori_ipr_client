md-content(flex).layout-fill
  md-toolbar
    div.md-toolbar-tools
      span(flex).text-left {{$ctrl.report.patientInformation.diagnosis}}
      h2(flex).text-center.md-hue-3 {{$ctrl.report.patientId}} Genomic Report
      report-state(flex, state="$ctrl.report.state").text-right
  div(layout="row", flex).pog-report
    div(flex, ui-view="")


    div(flex=15).report-menu__container
      div.reportMenu
        h1 Report Sections
        ul
          li
            span(ng-click="$ctrl.goToReportSection('summary')", ng-class="$ctrl.activeSection('summary') ? 'active' : ''").clickable.inline
              span Summary
              md-icon(ng-click="$ctrl.openPrint()", aria-label="Print Summary Section").md-accent print

          li(ng-repeat="section in $ctrl.sections track by $index", ng-init="section.showChildren = false")

            span(
              ng-click="(section.children.length === 0) ? $ctrl.goToReportSection(section.state) : section.showChildren = !section.showChildren",
              ng-class="{active: $ctrl.activeSection(section.state), meta: section.meta, children: (section.children.length > 0)}",
              layout="row"
              ng-if="$ctrl.reportEdit || section.clinician"
            ).clickable.inline
              span.expand {{section.name}}
              md-icon(ng-if="!section.showChildren && section.children.length > 0") arrow_drop_down
              md-icon(ng-if="section.showChildren || section.children.length < 0") arrow_drop_up

            ul(ng-if="section.children.length > 0 && section.showChildren")
              li(ng-repeat="child in section.children", ng-click="$ctrl.goToReportSection(child.state)"
                ng-class="{active: $ctrl.activeSection(child.state), disabled: (child.disabled), clickable: (!child.disabled)}"
              )
                span {{child.name}}
