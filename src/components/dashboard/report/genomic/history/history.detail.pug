md-dialog(layout="column", aria-label="Data History Entry", flex=75).dataHistoryDetails
    md-toolbar
        .md-toolbar-tools
            h2 Data History Entry
            span(flex)
            md-button.md-icon-button(ng-click='cancel()')
                md-icon cancel
    md-dialog-content(layout-padding)

        p A detailed summary of the data history event.

        div(ng-if="entry.type == 'change'")
            div(layout="row")
                div(flex) Previous
                div(flex) New

            div(layout="row", flex).diff
                div(layout="column", flex).previous
                    div(layout="row", ng-repeat="(k,v) in previousEntry", ng-hide="ignored.indexOf(k) > -1", ng-class="{changed: changed(k)}").row
                        div(flex=40).label {{k}}
                        div(flex) {{v}}
                div(layout="column", flex).new
                    div(layout="row", ng-repeat="(k,v) in newEntry", ng-hide="ignored.indexOf(k) > -1", ng-class="{changed: changed(k)}").row
                        div(flex=40).label {{k}}
                        div(flex) {{v}}

        div(ng-if="entry.type=='remove'")
            div(layout="row", flex, layout-align="center center").diff
                div(layout="column", flex=50).previous
                    div(layout="row", ng-repeat="(k,v) in previousEntry", ng-hide="ignored.indexOf(k) > -1").row
                        div(flex=40).label {{k}}
                        div(flex) {{v}}


    md-dialog-actions(layout="row", layout-aligh="end center")
        md-button(ng-if="entry.type == 'change'", ng-click="revert()").md-primary.md-raised Revert Change
        md-button(ng-if="entry.type == 'remove'", ng-click="restore()").md-primary.md-raised Restore Entry
        span(flex)
        md-button(ng-click="cancel()").md-primary.md-raised Done
