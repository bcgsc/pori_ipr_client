section.detailedGenomicAnalysis
    md-subheader.md-primary Knowledgebase

    div(layout="column", flex)

        div(layout="column", flex)

            h2.title Therapies Approved in this Tumour Type

            div(ng-if="approvedThisCancer.length == 0")
                div.text-center.details None Found.
            ipr-genomic-alteration(ng-repeat="gene in approvedThisCancer", samples="samples", gene="gene", report="report").container

            h2.title Therapies Approved in other tumour types
            div(ng-if="approvedOtherCancer.length == 0")
                div.text-center.details None Found.
            ipr-genomic-alteration(ng-repeat="gene in approvedOtherCancer", samples="samples", gene="gene", report="report").container


            h2.title Alterations With Potential Clinical Relevance
                span(ng-click="createNewKBEntry()", ng-if="canEdit").pull-right.addNewVariant.clickable Add new variant

            div(ng-if="loading").text-center.margin-bottom-10.margin-top-10
                span Loading Alterations...
                md-progress-circular(md-mode="indeterminate").center.margin-top-10

            div(ng-if="showCharacterizedAlterations && !loading")
                div(ng-repeat="(alteration, genes) in alterations")
                    h3.title {{alteration}}

                    div(ng-if="genes.length === 0 && alteration !== 'unknown' && alteration !== 'novel'")
                        div.text-center.details None Found.

                    div(ng-if="alteration === 'unknown' && !showUnknownAlterations")
                        div.text-center.details
                            md-button(ng-click="showAlterations('unknown')").accent.md-raised View Uncharacterized Alterations

                    div(ng-if="alteration === 'novel' && !showNovelAlterations")
                        div.text-center.details
                            md-button(ng-click="showAlterations('novel')").accent.md-raised View Novel Alterations

                    ipr-genomic-alteration(ng-if="genes.length > 0", ng-repeat="(i, gene) in genes", samples="samples", gene="gene", pog="pog", trigger="trigger", report="report").container

            div(ng-if="!showCharacterizedAlterations && !loading")
                h3.title Characterized Alterations
                div.text-center.details
                    md-button(ng-click="showAlterations('characterized')").accent.md-raised View Characterized Alterations

                div(ng-repeat="(alteration, genes) in alterations")
                    h3(ng-if="alteration === 'unknown' || alteration === 'novel'").title {{alteration}}

                    div(ng-if="genes.length === 0 && ((showUnknownAlterations && alteration === 'unknown') || (showNovelAlterations && alteration === 'novel'))")
                        div.text-center.details None Found.

                    div(ng-if="alteration === 'unknown' && !showUnknownAlterations")
                        div.text-center.details
                            md-button(ng-click="showAlterations('unknown')").accent.md-raised View Uncharacterized Alterations

                    div(ng-if="alteration === 'novel' && !showNovelAlterations")
                        div.text-center.details
                            md-button(ng-click="showAlterations('novel')").accent.md-raised View Novel Alterations

                    ipr-genomic-alteration(ng-if="genes.length > 0", ng-repeat="(i, gene) in genes", samples="samples", gene="gene", pog="pog", trigger="trigger", report="report").container

        div(layout="column", flex)
            h2.title Targeted Gene Report - Detected Alterations
            h3.title The following alterations were detected by the Targeted Gene Report rapid analysis pipeline.
            div(ng-if="targetedGenes.length == 0")
                div.text-center.details No clinically relevant genomic alterations were found from the analysis.
            div(layout="column", flex, ng-repeat="gene in targetedGenes").details.box
                div(layout="row", flex)
                    dt(flex="15") Gene:
                    dd(flex="15") {{gene.gene}}

                    dt(flex="15") Variant:
                    dd(flex="15") {{gene.variant}}

                    dt(flex="15") Source:
                    dd(flex="45") {{gene.sample}}