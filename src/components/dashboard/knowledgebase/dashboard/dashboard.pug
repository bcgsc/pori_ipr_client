md-content(layout="column", flex).dashboard

    div(layout="column")
        div.options
            div(layout="row")
                h1.title KB.
                    span.subject Dashboard
                span(flex)
                div(layout="row", flex=30)
                    form(ng-submit="search.go()", layout="row", flex)
                        md-select(ng-model="search.target", style="height: 32px; width: 140px;", aria-label="Search Target").hide-validation-error
                            md-option(ng-value="'references'") References
                            md-option(ng-value="'events'") Events
                        md-input-container(flex).hide-validation-error.pull-right
                            label
                            input(placeholder="Search", ng-model="search.query")

    div(layout-padding)
        p [A description of knowledgebase and how it should be used.]

    div(layout="row").section
        div(flex).widget
            h1(ui-sref="dashboard.knowledgebase.references").clickable References
            div.content
                p There are currently {{totals.ref}} articles described in Knowledgebase for matching.

                div.doughnut
                    canvas(id="references", class="chart chart-doughnut", chart-data="doughnut.references.data", chart-labels="doughnut.references.labels", chart-colors="doughnut.references.colors", chart-options="doughnut.references.options" width=400, height=400)

        div(flex).widget
            h1(ui-sref="dashboard.knowledgebase.events").clickable Events
            div.content
                p There are currently {{totals.ev}} events listed in Knowledgebase for reference mappings.

                div.doughnut
                    canvas(id="events", class="chart chart-doughnut", chart-data="doughnut.events.data", chart-labels="doughnut.events.labels", chart-colors="doughnut.events.colors", chart-options="doughnut.events.options" width=400, height=400)