section
    md-subheader.md-primary Somatic Mutations

    div(layout="column", flex)

        div(layout="column", flex).bg-white

            h2.title Small Somatic Mutations
            h3.title Summary of Somatic Events

            div(layout="row").mutation-summary-images
                div(layout="column", flex=15).comparator-list
                    p Available comparators
                    ul
                        li(ng-repeat="comp in mutationSummaryImages.comparators track by $index", ng-init="comp.visible=true")
                            md-checkbox(ng-model="comp.visible", name="{{comp.name}}Checkbox").text-uppercase {{comp.name.split('_').join(' ') || 'All'}}

                div(layout="column", flex)

                    div(layout="row", layout-align="space around")
                        div(layout="column", flex=45).smEvents.snv
                            div(layout="row")
                                div(flex=60) Number of non-synonymous protein coding SNVs (Truncating)
                                div(flex=40, layout="row", layout-align="center center").count
                                    div.snv {{ms.snv}} ({{ms.snv_truncating}})

                        div(layout="column", flex=45).smEvents.indel
                            div(layout="row")
                                div(flex=60) Number of protein coding indels (Frameshift)
                                div(flex=40, layout="row", layout-align="center center").count
                                    div.indel {{ms.indels}} ({{ms.indels_frameshift}})

                    div(layout="row", layout-align="space around").summary-plots
                        div(layout="column", flex=45)
                            div(ng-repeat="comp in mutationSummaryImages.comparators", ng-show="comp.visible")
                                img(style="max-width: 90%;", data-ng-src="data:image/png;base64,{{getMutationSummaryImage('densityPlot', 'snv', comp.name).data}}")
                                img(style="max-width: 90%;", data-ng-src="data:image/png;base64,{{getMutationSummaryImage('barplot', 'snv', comp.name).data}}")
                            div
                                img(style="max-width: 90%;", data-ng-src="data:image/png;base64,{{mutationSummaryImages.legend.snv_indel.data}}")


                        div(layout="column", flex=45)
                            div(ng-repeat="comp in mutationSummaryImages.comparators", ng-show="comp.visible")
                                img(style="max-width: 90%;", data-ng-src="data:image/png;base64,{{getMutationSummaryImage('densityPlot', 'indel', comp.name).data}}")
                                img(style="max-width: 90%;", data-ng-src="data:image/png;base64,{{getMutationSummaryImage('barplot', 'indel', comp.name).data}}")
                            div
                                img(style="max-width: 90%;", data-ng-src="data:image/png;base64,{{mutationSummaryImages.legend.snv_indel.data}}")


            h3.title Mutation Signature
            ipr-mutation-signature(pog="pog", report="report", mutation-signature="mutationSignature", mutation-summary="ms")

            div(layout="column", layout-align="center center")
                div
                    img(data-ng-src="data:image/png;base64,{{images['mutSignature.snvsAllStrelka'].data}}")

        div(layout="column", flex)
            h2.title Small Mutations: Genomic Details

            div(ng-repeat="(title, smallMutation) in smallMutations")
                h3(ng-if="title == 'biological'").title Variants of Biological Relevance
                h3(ng-if="title == 'unknown'").title Variants of Unknown Significance in Known Cancer-Related Genes
                h3(ng-if="title == 'clinical'").title Variants of Clinical Relevance
                h3(ng-if="title == 'nostic'").title Variants of Prognostic or Diagnostic Relevance

                ipr-small-mutations(mutations="smallMutation", pog="pog", report="report")
